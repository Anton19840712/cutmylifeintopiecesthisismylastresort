<\!DOCTYPE html><html><head><meta charset='UTF-8'><title>–†–æ–º–∞–Ω</title><script src='https://cdn.jsdelivr.net/npm/jssip@3.10.1/dist/jssip.min.js'></script><style>body{font-family:Arial;background:#f5576c;color:#fff;padding:40px;text-align:center}h1{margin-bottom:30px}input,button{padding:15px;margin:10px;font-size:16px;border-radius:8px;border:none}button{background:#fff;color:#f5576c;cursor:pointer;font-weight:bold}#status{padding:20px;background:rgba(255,255,255,0.2);border-radius:10px;margin:20px 0}#log{background:rgba(0,0,0,0.3);padding:15px;border-radius:10px;max-height:200px;overflow-y:auto;text-align:left;font-family:monospace;font-size:12px}</style></head><body><h1>üéôÔ∏è –†–æ–º–∞–Ω - romaous</h1><div id='status'>‚ö´ –ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω</div><input type='password' id='password' placeholder='–ü–∞—Ä–æ–ª—å –†–æ–º–∞–Ω–∞'><br><button onclick='connect()'>–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</button><button onclick='hangup()' style='display:none' id='hangupBtn'>–ó–∞–≤–µ—Ä—à–∏—Ç—å</button><audio id='remote' autoplay></audio><div id='log'></div><script>let ua,session;function log(m){document.getElementById('log').innerHTML+=new Date().toLocaleTimeString()+' '+m+'<br>';console.log(m)}function connect(){const p=document.getElementById('password').value;if(\!p){alert('–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å');return}log('–ü–æ–¥–∫–ª—é—á–∞—é—Å—å...');const s=new JsSIP.WebSocketInterface('ws://localhost:8088');ua=new JsSIP.UA({sockets:[s],uri:'sip:romaous@sip.linphone.org',password:p,display_name:'romaous',register:true,session_timers:false});ua.on('connected',()=>log('WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω'));ua.on('registered',()=>{log('‚úì –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω\! –û–∂–∏–¥–∞–Ω–∏–µ –∑–≤–æ–Ω–∫–æ–≤...');document.getElementById('status').innerHTML='üü¢ –ü–æ–¥–∫–ª—é—á–µ–Ω - –û–∂–∏–¥–∞–Ω–∏–µ'});ua.on('newRTCSession',e=>{session=e.session;if(session.direction==='incoming'){log('üìû –í–•–û–î–Ø–©–ò–ô –ó–í–û–ù–û–ö –æ—Ç '+session.remote_identity.uri.user);document.getElementById('status').innerHTML='üìû –í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫';document.getElementById('hangupBtn').style.display='inline';setTimeout(()=>{log('–ü—Ä–∏–Ω–∏–º–∞—é...');session.answer({mediaConstraints:{audio:true,video:false},pcConfig:{iceServers:[{urls:'stun:stun.l.google.com:19302'}]}})},500);session.on('peerconnection',e=>e.peerconnection.addEventListener('addstream',ev=>{log('‚úì –ü–æ–ª—É—á–µ–Ω –∞—É–¥–∏–æ');document.getElementById('remote').srcObject=ev.stream}));session.on('accepted',()=>{log('‚úì –í —Ä–∞–∑–≥–æ–≤–æ—Ä–µ\!');document.getElementById('status').innerHTML='üü¢ –í —Ä–∞–∑–≥–æ–≤–æ—Ä–µ'});session.on('ended',()=>{log('–ó–≤–æ–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω');document.getElementById('status').innerHTML='üü¢ –ü–æ–¥–∫–ª—é—á–µ–Ω - –û–∂–∏–¥–∞–Ω–∏–µ';document.getElementById('hangupBtn').style.display='none';session=null})}});ua.start()}function hangup(){if(session){session.terminate()}}</script></body></html>
